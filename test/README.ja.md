# Jules API テストスイート

このディレクトリには、Jules API の包括的なテストスイートが含まれています。各言語のクライアントライブラリが正しく動作することを確認するためのものです。

## 📁 ファイル構成

- `test_api.py` - Python クライアントのテストプログラム
- `test_api_js.js` - JavaScript/TypeScript クライアントのテストプログラム
- `test_api_go.go` - Go クライアントのテストプログラム
- `.env` - API キーを含む環境変数ファイル
- `README.md` - このテストスイートの説明

## 🔐 セキュリティ設定

### 環境変数ファイル (.env)

テストを実行するには、API キーを環境変数ファイルに設定する必要があります：

```bash
# test/.env
JULES_API_KEY=your_actual_api_key_here
```

**重要**: この `.env` ファイルはバージョン管理にコミットしないでください。

## 🚀 テスト実行方法

### Python テスト

```bash
# 前提: Python 環境と必要なパッケージがインストールされていること
cd py
pip install python-dotenv requests pydantic
cd ../test
python3 ../test/test_api.py
```

### JavaScript テスト

```bash
# 前提: Node.js と npm がインストールされていること
# まだ未確認（環境依存）
cd test
node test_api_js.js
```

### Go テスト

```bash
# 前提: Go がインストールされていること
# まだ未確認（環境依存）
cd go
go run ../test/test_api.go
```

## 🧪 テスト内容

各テストプログラムは以下の API エンドポイントをテストします：

1. **📋 List Sources** - 利用可能なソース（GitHub リポジトリ）のリスト取得
2. **🚀 Create Session** - 新しいセッションの作成
3. **📖 Get Session** - 特定のセッションの詳細取得
4. **📂 List Sessions** - セッション一覧の取得
5. **🎬 List Activities** - セッション内の活動一覧取得
6. **💬 Send Message** - エージェントへのメッセージ送信
7. **📦 Get Source** - 特定のソース詳細の取得

## 📊 期待される結果

- **正常系**: テストの大部分（6/7）が成功するはずです
- **制限事項**: Send Message テストはセッション初期化待ちにより失敗する可能性があります
- **検証内容**: API 認証、HTTP 通信、データ構造の正しさを確認

## 🎯 テストの目的

1. **API 機能の検証** - 各エンドポイントが正常に動作するか確認
2. **クライアント実装の妥当性** - 各言語のライブラリが正しく実装されているか確認
3. **エラー処理** - 適切なエラー処理が行われているか確認
4. **セキュリティ** - API キーが安全に扱われているか確認

## ⚠️ 注意事項

- API テストは実際の API サーバーに接続するため、レート制限に注意してください
- テスト実行により、Jules のセッションが実際に作成されます
- エラーが発生した場合は、ネットワーク接続と API キーの有効性を確認してください

## 📞 サポート

テストに関する問題がある場合は、Jules API のドキュメントを確認するか、サポートチームにお問い合わせください。
